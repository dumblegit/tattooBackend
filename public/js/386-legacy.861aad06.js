"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[386],{9386:function(t,e,s){s.r(e),s.d(e,{default:function(){return l}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("br"),t._m(0),s("div",{staticClass:"d-flex flex-row flex-wrap justify-content-center"},[s("div",{staticClass:"sinFondo",attrs:{id:"for"}},[s("form",{staticClass:"form-inline my-2 my-lg-0 d-flex",on:{submit:function(e){return e.preventDefault(),t.buscarUsuario()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.busqueda,expression:"busqueda"}],staticClass:"form-control m-1",attrs:{id:"usr-input",type:"search",placeholder:"Buscar","aria-label":"busqueda"},domProps:{value:t.busqueda},on:{input:function(e){e.target.composing||(t.busqueda=e.target.value)}}}),s("button",{staticClass:"btn btn-outline-success m-1",attrs:{type:"submit"}},[t._v(" Buscar ")])]),s("button",{staticClass:"btn btn-outline-success m-1",attrs:{id:"micro"},on:{click:function(e){return t.play()}}},[s("svg",{staticClass:"bi bi-mic-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[s("path",{attrs:{d:"M13 8c0 .564-.094 1.107-.266 1.613l-.814-.814A4.02 4.02 0 0 0 12 8V7a.5.5 0 0 1 1 0v1zm-5 4c.818 0 1.578-.245 2.212-.667l.718.719a4.973 4.973 0 0 1-2.43.923V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 1 0v1a4 4 0 0 0 4 4zm3-9v4.879L5.158 2.037A3.001 3.001 0 0 1 11 3z"}}),s("path",{attrs:{d:"M9.486 10.607 5 6.12V8a3 3 0 0 0 4.486 2.607zm-7.84-9.253 12 12 .708-.708-12-12-.708.708z"}})])])]),s("div",{staticClass:"d-flex flex-wrap align-items-center justify-content-center m-2",attrs:{id:"select"}},[s("div",{staticClass:"d-flex align-items-center m-2"},[s("label",{staticClass:"m-2",attrs:{for:"filtro1"}},[t._v(" Orden ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.orden1,expression:"orden1"}],staticClass:"form-control usr-input",attrs:{name:"filtro1",id:"filtro1"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.orden1=e.target.multiple?s:s[0]},function(e){return t.cambiarEnlace()}]}},[s("option",{attrs:{value:"nin"}},[t._v("Ninguna")]),s("option",{attrs:{value:"alfb"}},[t._v("Alfabéticamente")]),s("option",{attrs:{value:"reves"}},[t._v("Revés")])])]),s("div",{staticClass:"d-flex align-items-center m-2"},[s("label",{staticClass:"m-2",attrs:{for:"filtro2"}},[t._v(" Filtrar ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.orden2,expression:"orden2"}],staticClass:"form-control usr-input",attrs:{name:"filtro2",id:"filtro2"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.orden2=e.target.multiple?s:s[0]},function(e){return t.cambiarEnlace()}]}},[s("option",{attrs:{value:"to"}},[t._v("Todos")]),s("option",{attrs:{value:"ta"}},[t._v("Tatuadores")]),s("option",{attrs:{value:"cl"}},[t._v("Clientes")])])])])]),s("b-button",{staticClass:"m-2",attrs:{pill:"",variant:"success",size:"lg",block:""},on:{click:function(e){return t.agregarUsuario()}}},[t._v(" Añadir usuario ")]),t.usuarios.length>0?s("div",[s("paginate",{ref:"paginator",attrs:{name:"usuarios",list:t.usuarios,per:10}},[s("table",{staticClass:"table table-striped container mb-5"},[s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("Perfil")]),s("th",{attrs:{scope:"col"}},[t._v("Nombre")]),s("th",{attrs:{scope:"col"}},[t._v("Nick")]),s("th",{attrs:{scope:"col"}},[t._v("Accion")])])]),s("tbody",t._l(t.paginated("usuarios"),(function(e,i){return s("tr",{key:i},[s("td",[s("div",{staticClass:"imagen"},[s("img",{staticClass:"rounded-circle",attrs:{src:t.src+e.fotoPerfil,alt:"fotoPerfil"},on:{click:function(s){return t.perfil(e._id)}}})])]),s("td",[t._v(t._s(e.nombre))]),s("td",[t._v(t._s(e.usuario))]),s("td",[s("b-dropdown",{staticClass:"m-2",attrs:{text:"🛠",variant:"warning"}},[s("b-dropdown-item",[s("p",{attrs:{title:"edit"},on:{click:function(s){return t.editarUsuario(e._id)}}},[t._v(" 🛠 User Settings ")])]),s("b-dropdown-item",[s("p",{attrs:{title:"delete"},on:{click:function(s){return t.showMsgBox(e._id)}}},[t._v(" 💥 Delete User ")])])],1)],1)])})),0)])])],1):s("div",[s("h2",[t._v("No se han encontrado resultados")])]),s("div",{staticClass:"container"},[s("b-alert",{attrs:{show:t.dismissCountDown,variant:t.mensaje.color},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[s("p",[t._v(t._s(t.mensaje.texto))]),s("b-progress",{attrs:{variant:t.mensaje.color,max:t.dismissSecs,value:t.dismissCountDown,height:"4px"}})],1)],1),t.usuarios.length>10?s("paginate-links",{attrs:{for:"usuarios","show-step-links":!0,simple:{prev:"◀",next:"▶"}}}):t._e()],1)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",{staticClass:"my-5"},[s("span",[s("h3",[t._v("🙋‍♂️ 🙋‍♀️")])]),t._v(" Usuarios ")])}],r=(s(4916),s(3123),s(561),s(2707),s(9826),s(1539),s(4553),{data:function(){return{src:"https://tattoo-backend.vercel.app/",box:"",paginate:["usuarios"],usuarios:[],dismissSecs:5,dismissCountDown:0,showDismissibleAlert:!1,mensaje:{color:"",texto:""},usuario:{nombre:"",tatuador:Boolean,fechaNacimiento:"",fotoPerfil:"",usuario:"",password:"",aboutYou:"",orden:"",orden1:"",orden2:"",busqueda:""}}},created:function(){if("true"!=localStorage.getItem("tatuador"))this.$router.go(-1);else if(void 0==window.location.href.split("?or=")[1]&&void 0==window.location.href.split("se=")[1])window.location.href="/usuarios?or=ninto";else{var t=window.location.href.split("?or=")[1];void 0==t&&(this.busqueda=window.location.href.split("?se=")[1]),void 0!=t&&(this.orden=t.split("&se=")[0],this.orden1=this.orden.substring(0,this.orden.length-2),this.orden2=this.orden.substring(this.orden.length-2,this.orden.length),this.busqueda=window.location.href.split("se=")[1]),void 0==this.busqueda&&(this.busqueda=""),"ta"==this.orden2?this.listarUsuarios("/usuarios/tatuadores"):"cl"==this.orden2?this.listarUsuarios("/usuarios/clientes"):this.listarUsuarios("/usuarios/listar")}},mounted:function(){this.insertarOpciones(this.orden)},methods:{alerta:function(){this.mensaje.color="warning",this.mensaje.texto="Usuario eliminado 💥 ",this.showAlert()},agregarUsuario:function(){window.location.href="/agregarUsuario"},insertarOpciones:function(t){document.getElementById("filtro1").value=t.substring(0,t.length-2),document.getElementById("filtro2").value=t.substring(t.length-2,t.length)},buscarUsuario:function(){""!=this.orden||""!=this.busqueda&&void 0!=this.busqueda?""==this.orden?window.location.href="?se="+this.busqueda:""==this.orden||""!=this.busqueda&&void 0!=this.busqueda?window.location.href="?or="+this.orden+"&se="+this.busqueda:window.location.href="?or="+this.orden:window.location.href="/"},cambiarEnlace:function(){var t=this.orden1+this.orden2;""==t&&""!=this.busqueda?window.location.href="?se="+this.busqueda:""==t&&""==this.busqueda?window.location.href="/":""!=t&&""!=this.busqueda?window.location.href="?or="+t+"&se="+this.busqueda:window.location.href="?or="+t},listarUsuarios:function(t){var e=this;this.axios.get(t).then((function(t){var s=t.data;if(null==e.busqueda||""==e.busqueda)"alfb"==e.orden1?(e.ordenarNombre(s),e.usuarios=s):"reves"==e.orden1?(e.ordenarNombre(s),s.reverse(),e.usuarios=s):e.usuarios=s;else{for(var i=s.length-1;i>=0;i--)-1==s[i].nombre.toLowerCase().indexOf(e.busqueda.toLowerCase())&&s.splice(i,1);"alfb"==e.orden1?(e.ordenarNombre(s),e.usuarios=s):"reves"==e.orden1?(e.ordenarNombre(s),s.reverse(),e.usuarios=s):e.usuarios=s}})).catch((function(t){console.log(t.response)}))},ordenarNombre:function(t){t.sort((function(t,e){var s=t.nombre.toUpperCase(),i=e.nombre.toUpperCase();return s<i?-1:s>i?1:0}))},editarUsuario:function(t){window.location.href="/usuarios/editar?id="+t},eliminarUsuario:function(t){var e=this,s=this.usuarios.find((function(e){return e._id===t}));this.axios.put("usuarios/eliminarFoto/"+t,s).then((function(s){e.axios.delete("/usuarios/borrar/"+t).then((function(t){var s=e.usuarios.findIndex((function(e){return e._id===t.data._id}));e.usuarios.splice(s,1),e.alerta()})).catch((function(t){console.log(t)}))}))},perfil:function(t){window.location.href="/usuario?id="+t},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs},showMsgBox:function(t){var e=this;this.boxTwo="",this.$bvModal.msgBoxConfirm("¿Quieres eliminarlo?",{title:"Por favor, confirme",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"ELIMINAR",cancelTitle:"CANCELAR",footerClass:"p-2",hideHeaderClose:!1,backgroundColor:"success",centered:!0}).then((function(s){e.box=s,1==e.box&&e.eliminarUsuario(t)})).catch((function(t){console.log(t)}))},play:function(){var t=this;document.querySelector("input#usr-input").focus();var e=document.getElementById("micro"),s=this.microAbierto(),i=this.microCerrado(),o=webkitSpeechRecognition,r=new o,n="";r.start(),r.onstart=function(){document.querySelector("input#usr-input").value="Escuchando...",e.innerHTML=s},r.onspeechend=function(){e.innerHTML=i,r.stop()},r.onerror=function(t){document.querySelector("input#usr-input").value=""},r.onresult=function(t){var e=t.results[0][0].transcript;n="".concat(e),document.querySelector("input#usr-input").value=n,document.querySelector("input#usr-input").nextElementSibling.focus()};for(var a=0;a<10;a++)setTimeout((function(){t.busqueda=n}),500*a)},microAbierto:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-mic" viewBox="0 0 16 16"><path d="M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5z"/><path d="M10 8a2 2 0 1 1-4 0V3a2 2 0 1 1 4 0v5zM8 0a3 3 0 0 0-3 3v5a3 3 0 0 0 6 0V3a3 3 0 0 0-3-3z"/></svg>'},microCerrado:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-mic-fill" viewBox="0 0 16 16"><path d="M13 8c0 .564-.094 1.107-.266 1.613l-.814-.814A4.02 4.02 0 0 0 12 8V7a.5.5 0 0 1 1 0v1zm-5 4c.818 0 1.578-.245 2.212-.667l.718.719a4.973 4.973 0 0 1-2.43.923V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 1 0v1a4 4 0 0 0 4 4zm3-9v4.879L5.158 2.037A3.001 3.001 0 0 1 11 3z"/><path d="M9.486 10.607 5 6.12V8a3 3 0 0 0 4.486 2.607zm-7.84-9.253 12 12 .708-.708-12-12-.708.708z"/></svg>'}}}),n=r,a=s(1001),u=(0,a.Z)(n,i,o,!1,null,null,null),l=u.exports}}]);
//# sourceMappingURL=386-legacy.861aad06.js.map